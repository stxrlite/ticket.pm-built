{"version":3,"file":"delete.js","sourceRoot":"/","sources":["utils/delete.ts"],"names":[],"mappings":";AAAA;;;;;EAKE;;;AAGF,iCAA6B;AAGtB,MAAM,YAAY,GAAG,KAAK,EAAE,WAA8B,EAAE,MAAsB,EAAE,EAAE;IAC5F,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC;QACrD,KAAK,EAAE;YACN,SAAS,EAAE,WAAW,CAAC,OAAO,EAAE,EAAE;SAClC;KACD,CAAC,CAAC;IAEH,IAAI,CAAC,MAAM;QAAE,OAAO,WAAW,CAAC,KAAK,CAAC,EAAE,OAAO,EAAE,kBAAkB,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACrH,IAAA,UAAG,EACF;QACC,OAAO,EAAE,cAAc;QACvB,IAAI,EAAE,WAAW,CAAC,IAAI;QACtB,QAAQ,EAAE,MAAM,CAAC,EAAE;QACnB,eAAe,EAAE,MAAM,CAAC,SAAS;QACjC,aAAa,EAAE,MAAM,CAAC,UAAU,IAAI,SAAS;KAC7C,EACD,MAAM,CACN,CAAC;IACF,MAAM,WAAW,CAAC,WAAW,EAAE,CAAC;IAChC,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5D,CAAC,CAAC;AApBW,QAAA,YAAY,gBAoBvB;AAEF;;;;;EAKE","sourcesContent":["/*\nCopyright 2023 Sayrix (github.com/Sayrix)\n\nLicensed under the Creative Commons Attribution 4.0 International\nplease check https://creativecommons.org/licenses/by/4.0 for more informations.\n*/\n\nimport { ButtonInteraction } from \"discord.js\";\nimport { log } from \"./logs\";\nimport {ExtendedClient} from \"../structure\";\n\nexport const deleteTicket = async (interaction: ButtonInteraction, client: ExtendedClient) => {\n\tconst ticket = await client.prisma.tickets.findUnique({\n\t\twhere: {\n\t\t\tchannelid: interaction.channel?.id\n\t\t}\n\t});\n\n\tif (!ticket) return interaction.reply({ content: \"Ticket not found\", ephemeral: true }).catch((e) => console.log(e));\n\tlog(\n\t\t{\n\t\t\tLogType: \"ticketDelete\",\n\t\t\tuser: interaction.user,\n\t\t\tticketId: ticket.id,\n\t\t\tticketCreatedAt: ticket.createdat,\n\t\t\ttranscriptURL: ticket.transcript ?? undefined,\n\t\t},\n\t\tclient\n\t);\n\tawait interaction.deferUpdate();\n\tinteraction.channel?.delete().catch((e) => console.log(e));\n};\n\n/*\nCopyright 2023 Sayrix (github.com/Sayrix)\n\nLicensed under the Creative Commons Attribution 4.0 International\nplease check https://creativecommons.org/licenses/by/4.0 for more informations.\n*/\n"]}